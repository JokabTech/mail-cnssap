import{a as j}from"./chunk-LKLQAJTI.js";import{a as ae}from"./chunk-NO5ZLMGJ.js";import{A as oe,B as V,G as B,I as G,K as P,a as h,b as T,c as ee,d as te,e as ie,f as ne,g as y,l as I,s as O,v as F,x as A,z as D}from"./chunk-LN33XJJG.js";import{M as Z,P as v,ma as w}from"./chunk-6K6YQ32S.js";import{D as k,k as Y,l as E}from"./chunk-DDJAZSWD.js";import{Ab as _,Cb as L,Db as Q,Eb as f,Fb as e,Gb as n,Hb as p,Mb as x,Qb as c,Sb as d,Ta as H,Wa as l,Y as q,ab as J,ac as W,ec as o,ga as s,gb as S,gc as M,ha as u,mb as K,oc as X,pb as b,pc as R,rc as U,zb as g}from"./chunk-D6M5U3FV.js";import{a as C,b as N}from"./chunk-MGTJOKXF.js";function Te(a,t){if(a&1){let i=x();e(0,"button",0),c("click",function(){s(i);let m=d();return u(m.onMenuItemClicked("display_document",m.item))}),e(1,"mat-icon"),o(2,"remove_red_eye"),n(),e(3,"span"),o(4,"Aper\xE7u du document"),n()(),e(5,"button",0),c("click",function(){s(i);let m=d();return u(m.onMenuItemClicked("download_mail",m.item))}),e(6,"mat-icon"),o(7,"get_app"),n(),e(8,"span"),o(9,"T\xE9l\xE9charger le document"),n()(),e(10,"button",0),c("click",function(){s(i);let m=d();return u(m.onMenuItemClicked("share_mail",m.item))}),e(11,"mat-icon"),o(12,"shared"),n(),e(13,"span"),o(14,"Partager le document"),n()(),p(15,"mat-divider")}}function ve(a,t){if(a&1){let i=x();e(0,"button",0),c("click",function(){s(i);let m=d();return u(m.onMenuItemClicked("preview_receipt",m.item))}),e(1,"mat-icon"),o(2,"remove_red_eye"),n(),e(3,"span"),o(4,"Aper\xE7u de l'accus\xE9 de r\xE9ception"),n()(),e(5,"button",0),c("click",function(){s(i);let m=d();return u(m.onMenuItemClicked("download_receipt",m.item))}),e(6,"mat-icon"),o(7,"get_app"),n(),e(8,"span"),o(9,"T\xE9l\xE9charger l'accus\xE9 de r\xE9ception"),n()(),e(10,"button",0),c("click",function(){s(i);let m=d();return u(m.onMenuItemClicked("share_receipt",m.item))}),e(11,"mat-icon"),o(12,"shared"),n(),e(13,"span"),o(14,"Partager l'accus\xE9 de r\xE9ception"),n()()}}var $=class a{item;actionSelected=new b;onMenuItemClicked(t,i){this.actionSelected.emit({action:t,data:i})}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=S({type:a,selectors:[["app-outgoing-mail-menu-component"]],inputs:{item:"item"},outputs:{actionSelected:"actionSelected"},decls:24,vars:2,consts:[["mat-menu-item","",3,"click"]],template:function(i,r){i&1&&(e(0,"button",0),c("click",function(){return r.onMenuItemClicked("view_details",r.item)}),e(1,"mat-icon"),o(2,"list"),n(),e(3,"span"),o(4,"Voir les d\xE9tails"),n()(),p(5,"mat-divider"),g(6,Te,16,0),e(7,"button",0),c("click",function(){return r.onMenuItemClicked("add_receipt",r.item)}),e(8,"mat-icon"),o(9,"add"),n(),e(10,"span"),o(11,"Ajouter un accus\xE9 de r\xE9ception"),n()(),g(12,ve,15,0),p(13,"mat-divider"),e(14,"button",0),c("click",function(){return r.onMenuItemClicked("edit_mail",r.item)}),e(15,"mat-icon"),o(16,"edit"),n(),e(17,"span"),o(18,"Modifier le courrier"),n()(),e(19,"button",0),c("click",function(){return r.onMenuItemClicked("delete_mail",r.item)}),e(20,"mat-icon"),o(21,"delete"),n(),e(22,"span"),o(23,"Supprimer le courrier"),n()()),i&2&&(l(6),_(r.item.scanned_document?6:-1),l(6),_(r.item.acknowledgement_receipt?12:-1))},dependencies:[E,T,h,v,k,w,y,ee,I,O,F,A,D,V,oe,B,G,P],encapsulation:2})};var we=a=>({item:a}),ye=(a,t)=>t.id;function Ie(a,t){a&1&&p(0,"img",9)}function Oe(a,t){a&1&&p(0,"hr",15)}function Fe(a,t){if(a&1&&(e(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),p(4,"img",8),g(5,Ie,1,0,"img",9),n(),e(6,"button",10)(7,"mat-icon"),o(8,"check"),n()()(),e(9,"button",11)(10,"mat-icon",12),o(11,"more_vert"),n()()(),e(12,"h1",13),o(13),e(14,"span"),o(15),n()(),e(16,"div",14)(17,"div")(18,"span"),o(19,"Date du courrier : "),n(),e(20,"span"),o(21),R(22,"date"),n(),o(23," \xA0 | \xA0 "),e(24,"span"),o(25,"Date d'enregistrement : "),n(),e(26,"span"),o(27),R(28,"date"),n()(),e(29,"div")(30,"span"),o(31,"Exp\xE9diteur : "),n(),e(32,"span"),o(33),n()()()(),g(34,Oe,1,0,"hr",15)),a&2){let i=t.$implicit,r=t.$index,m=t.$count;d();let z=W(4);l(4),f("src",i.scanned_document?"assets/images/pdf.png":"assets/images/notFile.png",H),l(),_(i.acknowledgement_receipt?5:-1),l(4),f("matMenuTriggerFor",z)("matMenuTriggerData",X(16,we,i)),l(4),M(" ",i.subject," \xA0 "),l(2),M("#",i.id),l(6),M(" ",U(22,10,i.mail_date,"dd/MM/yyyy")," "),l(6),M(" ",U(28,13,i.create_at,"dd/MM/yyyy")," "),l(6),M(" ",i.sender.full_name," "),l(),_(r!==m-1?34:-1)}}function Ae(a,t){if(a&1){let i=x();e(0,"app-outgoing-mail-menu-component",16),c("actionSelected",function(m){s(i);let z=d();return u(z.onActinSelected(m))}),n()}if(a&2){let i=t.item;f("item",i)}}var me=class a{mails=void 0;menuSelected=new b;onActinSelected(t){this.menuSelected.emit(t)}ngOnInit(){}onSend(t){this.menuSelected.emit(new j("send",t))}onAddComment(t){this.menuSelected.emit(new j("add_comment",t))}onAddProof(t){this.menuSelected.emit(new j("treatment_proof",t))}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=S({type:a,selectors:[["app-outgoing-mail-grid-component"]],inputs:{mails:"mails"},outputs:{menuSelected:"menuSelected"},decls:6,vars:1,consts:[["mailMenu","matMenu"],[1,"grid","grid-cols-1","gap-8","md:grid-cols-2","lg:grid-cols-3","my-6"],["yPosition","below",3,"overlapTrigger"],["matMenuContent",""],[1,"md:p-3","border-2","border-transparent","rounded-lg","transition-all","duration-300","hover:border-blue-500"],[1,"flex","justify-between"],[1,"flex","items-center","gap-4"],[1,"relative","w-20","h-20"],["alt","Document Statut",1,"absolute","top-0","left-0","h-20","w-20","z-10",3,"src"],["src","assets/images/pdf.png","alt","Traitement Prouv\xE9",1,"absolute","bottom-0","right-0","h-16","w-16","z-20","translate-x-3","translate-y-3"],["mat-icon-button",""],["mat-icon-button","",3,"matMenuTriggerFor","matMenuTriggerData"],[1,"mat-18"],[1,"mt-4","text-xl","font-semibold","text-gray-800"],[1,"mt-2","text-gray-500","dark:text-gray-400"],[1,"block","sm:hidden","border","border-blue-950"],[3,"actionSelected","item"]],template:function(i,r){i&1&&(e(0,"section",1),L(1,Fe,35,18,null,null,ye),n(),e(3,"mat-menu",2,0),K(5,Ae,1,1,"ng-template",3),n()),i&2&&(l(),Q(r.mails),l(2),f("overlapTrigger",!1))},dependencies:[E,T,h,v,Z,k,w,y,ie,te,ne,I,O,F,A,D,V,B,G,P,$,Y],encapsulation:2})};var le=class a extends ae{constructor(t,i,r){super(t,i,r)}selectTab(t,i=!1){i&&(this.criteria.page=1,this.criteria.pageSize=6,this.pageIndex=0);let r=C({},this.criteria);switch(t){case"initial":this.search(N(C({},this.criteria),{is_transmitted:!1}));break;case"sent":this.search(N(C({},this.criteria),{is_transmitted:!0}));break;default:this.search(r)}this.tab=t,sessionStorage.setItem(this.key,t)}actionButton(t){switch(t){case"goToForm":this.goToForm("add");break;case"refresh":this.selectTab("in-transit");break;case"print":break;default:}}menuSelected(t){switch(t.action){case"view_detail":this.gotToDetails(t.data);break;case"display_document":this.displayOnline(t.data.id,"document");break;case"download_mail":this.downloadDocument(t.data.id,"document");break;case"share_mail":break;case"add_receipt":this.addFile(t.data,"Ajouter un accus\xE9 de r\xE9ception","acknowledgement-receipt");break;case"preview_receipt":this.displayOnline(t.data.id,"acknowledgement-receipt");break;case"download_receipt":this.downloadDocument(t.data.id,"acknowledgement-receipt");break;case"share_receipt":break;case"edit_mail":this.goToForm(t.action,t.data);break;case"delete_mail":break;default:console.warn("Action non g\xE9r\xE9e :")}}static \u0275fac=function(i){J()};static \u0275prov=q({token:a,factory:a.\u0275fac,providedIn:"root"})};export{me as a,le as b};
