import{a as R,b as G}from"./chunk-BQO7UPGS.js";import{b as V,c as j}from"./chunk-LKLQAJTI.js";import"./chunk-NO5ZLMGJ.js";import"./chunk-NVDVH5CC.js";import"./chunk-6JCGAI3C.js";import"./chunk-2XMF3NCH.js";import{a as B,b as z,c as N,f as D,i as k,j as A,k as F,r as P}from"./chunk-I2SFVS3Z.js";import{b as L}from"./chunk-YOSYX5R3.js";import"./chunk-RA4HR7YG.js";import"./chunk-PYNVKXPF.js";import{a as y}from"./chunk-Y3YQYZ4W.js";import{l as I,s as T}from"./chunk-LN33XJJG.js";import"./chunk-2KDJOZPQ.js";import"./chunk-6K6YQ32S.js";import"./chunk-DDJAZSWD.js";import{a as w,b as S}from"./chunk-WRDENF74.js";import{Ab as s,Eb as d,Fb as a,Gb as r,Hb as f,Mb as E,Qb as c,Sb as g,Wa as v,Y as h,ba as m,ec as O,ga as M,gb as u,ha as C,xc as b,zb as p}from"./chunk-D6M5U3FV.js";import"./chunk-MGTJOKXF.js";var _=class t extends G{constructor(){super("outgoing-external-mails","/mails/outgoing/external","outgoing-external")}static \u0275fac=function(e){return new(e||t)};static \u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"})};function q(t,i){t&1&&(a(0,"div",2),f(1,"mat-spinner"),r())}function J(t,i){if(t&1){let e=E();a(0,"app-outgoing-mail-grid-component",5),c("menuSelected",function(l){M(e);let o=g();return C(o.onMenuSelected(l))}),r()}if(t&2){let e=g();d("mails",e.mailService.page.items)}}function K(t,i){if(t&1){let e=E();a(0,"mat-paginator",6),c("page",function(l){M(e);let o=g();return C(o.mailService.onNext(l))}),r()}if(t&2){let e=g();d("length",e.mailService.page.totalItems)("pageSize",e.mailService.criteria.pageSize)("pageIndex",e.mailService.pageIndex)("pageSizeOptions",e.mailService.pageSizeOptions)}}var x=class t{stateService=m(S);mailService=m(_);constructor(){sessionStorage.getItem(this.mailService.key)&&(this.mailService.tab=sessionStorage.getItem(this.mailService.key)),this.stateService.setHeader(new w("COURRIERS SORTANTS EXTERNES","Liste des correspondances externes sortants","flight_land"))}ngOnInit(){this.onSelectTab(this.mailService.tab)}onSelectTab(i,e=!1){this.mailService.selectTab(i,e)}onActionButton(i){this.mailService.actionButton(i)}onSearchChanged(i){Object.assign(this.mailService.criteria,i),this.onSelectTab(this.mailService.tab)}onMenuSelected(i){this.mailService.menuSelected(i)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-outgoing-external-mail-list-impl-component"]],decls:5,vars:4,consts:[[3,"tabSelected","actionButton","forOutgoingMail","selectedTab"],[3,"searchChanged"],[1,"flex","items-center","justify-center","my-10"],[3,"mails"],["showFirstLastButtons","","aria-label","Select page",1,"mt-12",3,"length","pageSize","pageIndex","pageSizeOptions"],[3,"menuSelected","mails"],["showFirstLastButtons","","aria-label","Select page",1,"mt-12",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(e,n){e&1&&(a(0,"app-toolbar-component",0),c("tabSelected",function(o){return n.onSelectTab(o,!0)})("actionButton",function(o){return n.onActionButton(o)}),r(),a(1,"app-search-bar-component",1),c("searchChanged",function(o){return n.onSearchChanged(o)}),r(),p(2,q,2,0,"div",2)(3,J,1,1,"app-outgoing-mail-grid-component",3),p(4,K,1,4,"mat-paginator",4)),e&2&&(d("forOutgoingMail",!0)("selectedTab",n.mailService.tab),v(2),s(n.mailService.loading?2:3),v(2),s(n.mailService.page?4:-1))},dependencies:[j,V,z,B,N,D,k,F,A,T,I,L,P,R],encapsulation:2})};function Q(t,i){t&1&&f(0,"app-outgoing-external-mail-list-impl-component")}function W(t,i){t&1&&(a(0,"h1"),O(1,"Vous n'avez pas droit d'acc\xE8der \xE0 cette fonctionnalit\xE9"),r())}var U=class t{stateService=m(S);role=b(()=>this.stateService.role());roles=y;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-outgoing-external-mail-list-component"]],decls:2,vars:1,template:function(e,n){e&1&&p(0,Q,1,0,"app-outgoing-external-mail-list-impl-component")(1,W,2,0,"h1"),e&2&&s(n.role()!==n.roles.AGENT?0:1)},dependencies:[x],encapsulation:2})};export{U as OutgoingExternalMailListComponent};
