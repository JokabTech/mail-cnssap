import{a as fe}from"./chunk-NVDVH5CC.js";import{b as oe,c as ae,f as ne}from"./chunk-2XMF3NCH.js";import{a as le,b as se,c as me,f as de,i as pe,j as ce,k as ge,r as ue}from"./chunk-I2SFVS3Z.js";import{b as ie}from"./chunk-YOSYX5R3.js";import{a as te}from"./chunk-RA4HR7YG.js";import{B as Q,G as W,I as Y,K as Z,a as $,b as P,g as q,l as H,s as L,v as G,x as X,z as J}from"./chunk-LN33XJJG.js";import{a as ee}from"./chunk-2KDJOZPQ.js";import{M as z,P as R,R as B,V as K,Z as V,ba as A,la as N,ma as j}from"./chunk-6K6YQ32S.js";import{D,l as I}from"./chunk-DDJAZSWD.js";import{b as re}from"./chunk-WRDENF74.js";import{Ab as v,C as _,Cb as T,Db as E,Eb as S,Fb as i,G as w,Gb as r,H as C,Hb as b,Mb as M,Qb as g,R as k,S as f,Sb as d,Wa as n,ba as s,ec as a,f as c,ga as h,gb as F,gc as p,ha as x,nc as O,xc as U,zb as y}from"./chunk-D6M5U3FV.js";var xe=()=>[5,10,20],ye=(o,e)=>e.id;function ve(o,e){o&1&&b(0,"mat-spinner")}function Se(o,e){if(o&1){let t=M();i(0,"tr",23),g("click",function(){let m=h(t).$implicit,u=d(2);return x(u.onSelectUser(m))}),i(1,"td",24)(2,"div")(3,"h2",25),a(4),r()()(),i(5,"td",26)(6,"div",27),a(7," iv "),r()(),i(8,"td",28),a(9),r(),i(10,"td",28),a(11),r(),i(12,"td",29)(13,"button",30)(14,"mat-icon"),a(15,"more_vert"),r()()()()}if(o&2){let t=e.$implicit;n(4),p(" ",t.full_name," "),n(5),p(" ",t.phone," "),n(2),p(" ",t.email," ")}}function be(o,e){if(o&1&&(i(0,"div",9)(1,"div",11)(2,"div",12)(3,"div",13)(4,"table",14)(5,"thead",15)(6,"tr")(7,"th",16),a(8," Nom de l'utilisateur "),r(),i(9,"th",17),a(10," Roles "),r(),i(11,"th",18),a(12," T\xE9l\xE9phone "),r(),i(13,"th",18),a(14," E-mail "),r(),i(15,"th",19)(16,"span",20),a(17,"Op\xE9rations"),r()()()(),i(18,"tbody",21),T(19,Se,16,3,"tr",22,ye),r()()()()()()),o&2){let t=d();n(19),E(t.page.items)}}function Me(o,e){if(o&1){let t=M();i(0,"div",10)(1,"mat-paginator",31),g("page",function(m){h(t);let u=d();return x(u.onPageChange(m))}),r()()}if(o&2){let t=d();n(),S("length",t.page.totalItems)("pageSize",10)("pageSizeOptions",O(3,xe))}}var he=class o{dialogRef=s(oe);data=s(ae);http=s(ee);message=s(te);paramsService=s(fe);stateService=s(re);xSmallOrSmall=U(()=>this.stateService.XSmallOrSmall());destroySearchKeywordSub$=new c;searchTrigger$=new c;destroy$=new c;loading=!1;page;currentPage=1;pageSizeOptions=[5,10,20,30,50,100,200,300];pageSize=this.pageSizeOptions[0];searchKeyword=new V;ngOnInit(){this.searchKeyword.valueChanges.pipe(_(500),w(),f(this.destroySearchKeywordSub$)).subscribe(e=>this.search(e||"")),this.searchTrigger$.pipe(f(this.destroy$),k(e=>(this.loading=!0,this.http.url=e.url,this.http.get(e.params).pipe(C(()=>this.loading=!1))))).subscribe({next:e=>{this.page=e,console.log(this.page)},error:e=>{this.message.openSnackBar(e,"Fermer",800)}}),this.searchTrigger$.next(this.paramsService.build("users",{page:this.currentPage,pageSize:this.pageSize}))}ngOnDestroy(){this.destroySearchKeywordSub$.next(),this.destroySearchKeywordSub$.complete(),this.destroy$.next(),this.destroy$.complete()}search(e){let t=this.paramsService.build("users",{page:this.currentPage,pageSize:this.pageSize,keyword:e});this.searchTrigger$.next(t)}onPageChange(e){let t=e.pageIndex+1,l=e.pageSize,m=this.paramsService.build("users",{page:t,pageSize:l,keyword:this.searchKeyword.value});this.searchTrigger$.next(m)}onClose(){this.dialogRef.close()}onSelectUser(e){this.dialogRef.close(e)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=F({type:o,selectors:[["app-user-filter-component"]],decls:17,vars:4,consts:[[1,"flex","items-center","justify-between","px-4","py-2","bg-white","dark:bg-gray-900"],[1,"text-lg","font-semibold","text-gray-800","dark:text-gray-300"],["mat-icon-button","",3,"click"],[1,"md:px-5","md:py-8"],[1,"flex","flex-col","md:flex-row","items-center","justify-between","gap-x-5","gap-2.5","mb-3"],[1,"w-full","md:w-5/12"],[1,"relative","w-full"],["type","text","placeholder","Rechercher un membre",1,"w-full","p-3","pl-5","pr-15","text-lg","border-2","border-gray-200","md:rounded-full","outline-none","transition","duration-300","focus:border-blue-500","focus:text-gray-700","bg-white","h-[44px]",3,"formControl"],[1,"absolute","right-4","pr-1","top-1/2","transform","-translate-y-1/2","text-gray-500","text-lg"],[1,"flex","flex-col","mt-6"],[1,"mt-12","mb-2"],[1,"overflow-x-auto"],[1,"inline-block","min-w-full","align-middle"],[1,"overflow-hidden","border-y","border-gray-200","dark:border-gray-700","md:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"dark:bg-gray-800"],["scope","col",1,"py-3.5","px-4","text-sm","font-normal","text-left","text-gray-500","dark:text-gray-400"],["scope","col",1,"hidden","sm:table-cell","px-12","py-3.5","text-sm","font-normal","text-center","text-gray-500","dark:text-gray-400"],["scope","col",1,"hidden","sm:table-cell","px-4","py-3.5","text-sm","font-normal","text-left","text-gray-500","dark:text-gray-400"],["scope","col",1,"relative","py-3.5","px-4"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200","dark:divide-gray-700","dark:bg-gray-900"],[1,"hover:bg-gray-100","cursor-pointer"],[1,"hover:bg-gray-100","cursor-pointer",3,"click"],[1,"px-4","py-1.5","text-sm","font-medium","whitespace-nowrap"],[1,"font-medium","text-gray-800","dark:text-white"],[1,"hidden","sm:table-cell","px-12","py-1.5","text-sm","text-center","font-medium","whitespace-nowrap"],[1,"inline","px-3","py-1","text-sm","font-normal","rounded-full","text-emerald-500","gap-x-2","bg-emerald-100/60","dark:bg-gray-800"],[1,"hidden","sm:table-cell","px-4","py-1.5","text-sm","whitespace-nowrap"],[1,"px-4","py-1.5","text-sm","whitespace-nowrap"],["mat-icon-button",""],["showFirstLastButtons","",1,"mt-6",2,"background-color","transparent",3,"page","length","pageSize","pageSizeOptions"]],template:function(t,l){t&1&&(i(0,"div",0)(1,"h2",1),a(2),r(),i(3,"button",2),g("click",function(){return l.onClose()}),i(4,"mat-icon"),a(5,"close"),r()()(),i(6,"mat-dialog-content")(7,"div",3)(8,"div",4)(9,"div",5)(10,"div",6),b(11,"input",7),i(12,"mat-icon",8),a(13,"search"),r()()()(),y(14,ve,1,0,"mat-spinner")(15,be,21,0,"div",9),y(16,Me,2,4,"div",10),r()()),t&2&&(n(2),p(" ",l.data.title," "),n(9),S("formControl",l.searchKeyword),n(3),v(l.loading?14:15),n(2),v(l.page?16:-1))},dependencies:[se,le,me,de,pe,ge,ce,L,H,ie,ue,I,P,$,R,z,D,j,B,K,A,q,G,X,J,Q,W,Y,Z,N,ne],styles:[".mat-mdc-dialog-container .mdc-dialog__surface{border-radius:0!important}"]})};export{he as a};
