import{a as j,b as A,c as R,d as G}from"./chunk-CNV7EVIZ.js";import"./chunk-4P2PPLUQ.js";import"./chunk-SLXF42A7.js";import"./chunk-2B53N2V2.js";import"./chunk-7FHMHPOG.js";import{a as N,b as z,c as D,f as k,i as F,j as O,k as P,r as V}from"./chunk-WO3WQ2XR.js";import{b as y}from"./chunk-OYAAD6H2.js";import"./chunk-NS5OZLHL.js";import{a as B}from"./chunk-Y3YQYZ4W.js";import{l as T,s as L}from"./chunk-JQ7ZTRAQ.js";import"./chunk-XHZ33VBC.js";import"./chunk-4LHVJXPR.js";import"./chunk-SMWCLUEH.js";import{a as w,b as S}from"./chunk-VYQ2GNAY.js";import{Ab as p,Eb as f,Fb as a,Gb as r,Hb as u,Mb as v,Qb as s,Sb as g,Wa as I,Y as E,ba as m,ec as b,ga as C,gb as d,ha as M,xc as h,zb as c}from"./chunk-JOOEKZTP.js";import"./chunk-2VMXMS7J.js";var _=class t extends j{constructor(){super("incoming-external-mails","/mails/incoming/external","external")}static \u0275fac=function(e){return new(e||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};function q(t,i){t&1&&(a(0,"div",2),u(1,"mat-spinner"),r())}function J(t,i){if(t&1){let e=v();a(0,"app-incoming-mail-grid-component",5),s("menuSelected",function(l){C(e);let o=g();return M(o.onMenuSelected(l))}),r()}if(t&2){let e=g();f("tab",e.mailService.tab)("mails",e.mailService.page.items)}}function K(t,i){if(t&1){let e=v();a(0,"mat-paginator",6),s("page",function(l){C(e);let o=g();return M(o.mailService.onNext(l))}),r()}if(t&2){let e=g();f("length",e.mailService.page.totalItems)("pageSize",e.mailService.criteria.pageSize)("pageIndex",e.mailService.pageIndex)("pageSizeOptions",e.mailService.pageSizeOptions)}}var x=class t{mailService=m(_);stateService=m(S);constructor(){sessionStorage.getItem(this.mailService.key)&&(this.mailService.tab=sessionStorage.getItem(this.mailService.key)),this.stateService.setHeader(new w("COURRIERS ENTRANTS EXTERNES","Liste des correspondances externes re\xE7ues","flight_land"))}ngOnInit(){this.onSelectTab(this.mailService.tab)}onSearchChanged(i){Object.assign(this.mailService.criteria,i),this.onSelectTab(this.mailService.tab)}onSelectTab(i,e=!1){this.mailService.selectTab(i,e)}onActionButton(i){this.mailService.actionButton(i)}onMenuSelected(i){this.mailService.menuSelected(i)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-incoming-external-mail-list-impl-component"]],decls:5,vars:3,consts:[[3,"tabSelected","actionButton","selectedTab"],[3,"searchChanged"],[1,"flex","items-center","justify-center","my-10"],[3,"tab","mails"],["showFirstLastButtons","","aria-label","Select page",1,"mt-12",3,"length","pageSize","pageIndex","pageSizeOptions"],[3,"menuSelected","tab","mails"],["showFirstLastButtons","","aria-label","Select page",1,"mt-12",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(e,n){e&1&&(a(0,"app-toolbar-component",0),s("tabSelected",function(o){return n.onSelectTab(o,!0)})("actionButton",function(o){return n.onActionButton(o)}),r(),a(1,"app-search-bar-component",1),s("searchChanged",function(o){return n.onSearchChanged(o)}),r(),c(2,q,2,0,"div",2)(3,J,1,2,"app-incoming-mail-grid-component",3),c(4,K,1,4,"mat-paginator",4)),e&2&&(f("selectedTab",n.mailService.tab),I(2),p(n.mailService.loading?2:3),I(2),p(n.mailService.page?4:-1))},dependencies:[G,R,z,N,D,k,F,P,O,L,T,y,V,A],encapsulation:2})};function Q(t,i){t&1&&u(0,"app-incoming-external-mail-list-impl-component")}function W(t,i){t&1&&(a(0,"h1"),b(1,"Vous n'avez pas droit d'acc\xE8der \xE0 cette fonctionnalit\xE9"),r())}var U=class t{stateService=m(S);role=h(()=>this.stateService.role());roles=B;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-incoming-external-mail-list-component"]],decls:2,vars:1,template:function(e,n){e&1&&c(0,Q,1,0,"app-incoming-external-mail-list-impl-component")(1,W,2,0,"h1"),e&2&&p(n.role()!==n.roles.AGENT?0:1)},dependencies:[x],encapsulation:2})};export{U as IncomingExternalMailListComponent};
