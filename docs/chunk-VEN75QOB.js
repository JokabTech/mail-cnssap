import{a as j}from"./chunk-SRJPW5H4.js";import{b as R,c as G}from"./chunk-LKLQAJTI.js";import{c as V}from"./chunk-YJ6I4H5R.js";import"./chunk-NO5ZLMGJ.js";import"./chunk-RSTW56Y6.js";import"./chunk-NVDVH5CC.js";import"./chunk-EETWG5P3.js";import"./chunk-6JCGAI3C.js";import"./chunk-2XMF3NCH.js";import{a as N,b as z,c as O,f as D,i as k,j as A,k as F,r as P}from"./chunk-I2SFVS3Z.js";import{b as y}from"./chunk-YOSYX5R3.js";import"./chunk-RA4HR7YG.js";import"./chunk-PYNVKXPF.js";import{a as w}from"./chunk-Y3YQYZ4W.js";import{l as L,s as E}from"./chunk-LN33XJJG.js";import"./chunk-2KDJOZPQ.js";import"./chunk-6K6YQ32S.js";import"./chunk-DDJAZSWD.js";import{a as B,b as u}from"./chunk-WRDENF74.js";import{Ab as p,Eb as I,Fb as a,Gb as r,Hb as f,Mb as b,Qb as s,Sb as g,Wa as v,Y as h,ba as l,ec as T,ga as C,gb as d,ha as M,xc as x,zb as c}from"./chunk-D6M5U3FV.js";import"./chunk-MGTJOKXF.js";var S=class n extends V{constructor(){super("incoming-internal-mails","/mails/incoming/internal","incoming-internal")}static \u0275fac=function(e){return new(e||n)};static \u0275prov=h({token:n,factory:n.\u0275fac,providedIn:"root"})};function J(n,i){n&1&&(a(0,"div",2),f(1,"mat-spinner"),r())}function K(n,i){if(n&1){let e=b();a(0,"app-incoming-mail-grid-component",5),s("menuSelected",function(m){C(e);let o=g();return M(o.onMenuSelected(m))}),r()}if(n&2){let e=g();I("tab",e.mailService.tab)("mails",e.mailService.page.items)}}function Q(n,i){if(n&1){let e=b();a(0,"mat-paginator",6),s("page",function(m){C(e);let o=g();return M(o.mailService.onNext(m))}),r()}if(n&2){let e=g();I("length",e.mailService.page.totalItems)("pageSize",e.mailService.criteria.pageSize)("pageIndex",e.mailService.pageIndex)("pageSizeOptions",e.mailService.pageSizeOptions)}}var _=class n{mailService=l(S);stateService=l(u);constructor(){sessionStorage.getItem(this.mailService.key)&&(this.mailService.tab=sessionStorage.getItem(this.mailService.key)),this.stateService.setHeader(new B("COURRIERS ENTRANTS INTERNES","Liste des correspondances internes re\xE7ues","flight_land"))}ngOnInit(){this.onSelectTab(this.mailService.tab)}onSearchChanged(i){Object.assign(this.mailService.criteria,i),this.onSelectTab(this.mailService.tab)}onSelectTab(i,e=!1){this.mailService.selectTab(i,e)}onActionButton(i){this.mailService.actionButton(i)}onMenuSelected(i){this.mailService.menuSelected(i)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-incoming-internal-mail-list-impl-component"]],decls:5,vars:3,consts:[[3,"tabSelected","actionButton","selectedTab"],[3,"searchChanged"],[1,"flex","items-center","justify-center","my-10"],[3,"tab","mails"],["showFirstLastButtons","","aria-label","Select page",1,"mt-12",3,"length","pageSize","pageIndex","pageSizeOptions"],[3,"menuSelected","tab","mails"],["showFirstLastButtons","","aria-label","Select page",1,"mt-12",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(e,t){e&1&&(a(0,"app-toolbar-component",0),s("tabSelected",function(o){return t.onSelectTab(o,!0)})("actionButton",function(o){return t.onActionButton(o)}),r(),a(1,"app-search-bar-component",1),s("searchChanged",function(o){return t.onSearchChanged(o)}),r(),c(2,J,2,0,"div",2)(3,K,1,2,"app-incoming-mail-grid-component",3),c(4,Q,1,4,"mat-paginator",4)),e&2&&(I("selectedTab",t.mailService.tab),v(2),p(t.mailService.loading?2:3),v(2),p(t.mailService.page?4:-1))},dependencies:[G,R,z,N,O,D,k,F,A,E,L,y,P,j],encapsulation:2})};function W(n,i){n&1&&f(0,"app-incoming-internal-mail-list-impl-component")}function X(n,i){n&1&&(a(0,"h1"),T(1,"Vous n'avez pas droit d'acc\xE8der \xE0 cette fonctionnalit\xE9"),r())}var U=class n{stateService=l(u);role=x(()=>this.stateService.role());roles=w;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-incoming-internal-mail-list-component"]],decls:2,vars:1,template:function(e,t){e&1&&c(0,W,1,0,"app-incoming-internal-mail-list-impl-component")(1,X,2,0,"h1"),e&2&&p(t.role()!==t.roles.AGENT?0:1)},dependencies:[_],encapsulation:2})};export{U as IncomingInternalMailListComponent};
