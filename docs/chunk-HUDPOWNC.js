import{a as ae}from"./chunk-NS5OZLHL.js";import{B as te,G as ie,I as re,K as ne,a as R,b as L,g as V,l as $,n as j,o as H,p as J,r as K,s as Q,u as W,v as X,w as Y,x as Z,z as ee}from"./chunk-JQ7ZTRAQ.js";import{a as oe}from"./chunk-XHZ33VBC.js";import{$ as P,M as N,O as q,P as F,R as T,T as m,V as G,W as z,X as A,Z as c,ca as B,da as D,ja as O,ma as U}from"./chunk-4LHVJXPR.js";import{C as k,e as w,k as M,y,z as I}from"./chunk-SMWCLUEH.js";import{$a as x,Ab as v,Eb as l,Fb as e,Gb as t,Hb as p,Qb as u,S as b,Sb as d,Wa as a,ec as i,f as _,fc as S,gb as C,gc as g,mb as f,zb as E}from"./chunk-JOOEKZTP.js";import"./chunk-2VMXMS7J.js";function se(r,s){if(r&1&&(e(0,"mat-error"),i(1),t()),r&2){let n=d();a(),g(" ",n.getErrorFullName()," ")}}function le(r,s){if(r&1&&(e(0,"mat-error"),i(1),t()),r&2){let n=d();a(),g(" ",n.getErrorEmail()," ")}}function pe(r,s){if(r&1&&(e(0,"mat-icon",21),i(1),t()),r&2){let n=d();a(),S(n.hide?"visibility_off":"visibility")}}function de(r,s){r&1&&(e(0,"mat-icon",21),i(1,"lock"),t())}function ue(r,s){if(r&1&&(e(0,"mat-error"),i(1),t()),r&2){let n=d();a(),g(" ",n.getErrorPassword()," ")}}function ce(r,s){if(r&1&&(e(0,"mat-icon",21),i(1),t()),r&2){let n=d();a(),S(n.hide?"visibility_off":"visibility")}}function fe(r,s){r&1&&(e(0,"mat-icon",21),i(1,"lock"),t())}function ge(r,s){if(r&1&&(e(0,"mat-error"),i(1),t()),r&2){let n=d();a(),g(" ",n.getErrorPassword2()," ")}}var me=class r{constructor(s,n,o){this.message=s;this.router=n;this.http=o}hide=!0;lock=!1;form;unsubscribe$=new _;ngOnInit(){this.initForm()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}initForm(){this.form=new A({full_name:new c("",[m.required,m.minLength(2),m.maxLength(30)]),email:new c("",[m.required,m.email,m.minLength(3),m.maxLength(120)]),password:new c("",[m.required,m.minLength(8),m.maxLength(16)]),password2:new c("",[m.required,m.minLength(8),m.maxLength(16)]),terms:new c(!1,[m.required])})}getErrorFullName(){return this.form.get("full_name").hasError("required")?"Ce champ est requis":this.form.get("full_name").hasError("minlength")?"Assurez-vous d'entrer au moins 2 caract\xE8res ici.":this.form.get("full_name").hasError("maxlength")?"Ne d\xE9passez pas 30 caract\xE8res dans ce champ, s'il vous pla\xEEt.":""}getErrorEmail(){return this.form.get("email").hasError("required")?"L'adresse E-mail est requise":this.form.get("email").hasError("minLength")?"Assurez-vous d'entrer au moins 11 caract\xE8res ici.":this.form.get("email").hasError("maxLength")?"Ne d\xE9passez pas 120 caract\xE8res dans ce champ, s'il vous pla\xEEt.":this.form.get("email").hasError("email")?"Adresse e-mail invalide":""}getErrorPassword(){return this.form.get("password").hasError("required")?"Le mot de passe est requis":this.form.get("password").hasError("minlength")?"Le mot de passe doit contenir au moins 8 caract\xE8res":this.form.get("password").hasError("maxlength")?"Le mot de passe ne doit pas d\xE9passer 16 caract\xE8res":""}getErrorPassword2(){return this.form.get("password2").hasError("required")?"Le mot de passe est requis":this.form.get("password2").hasError("minlength")?"Le mot de passe doit contenir au moins 8 caract\xE8res":this.form.get("password2").hasError("maxlength")?"Le mot de passe ne doit pas d\xE9passer 16 caract\xE8res":""}getErrorTerms(){return this.form.get("terms").hasError("required")?"Veillez accepter ou ne cr\xE9ez pas de compte":""}onSubmit(){this.http.url="auth/register",this.unsubscribe$.next(),this.http.login(this.form.value).pipe(b(this.unsubscribe$)).subscribe({next:s=>{sessionStorage.setItem("authentication",JSON.stringify(s))},error:s=>{s.status===0?this.message.openSnackBar("Aucune connexion internet","Fermer",6e3):this.message.openSnackBar("E-mail ou mot de passe incorrect","Fermer",6e3)},complete:()=>{this.router.navigateByUrl("/auth/verification")}})}static \u0275fac=function(n){return new(n||r)(x(ae),x(y),x(oe))};static \u0275cmp=C({type:r,selectors:[["app-register-component"]],decls:74,vars:10,consts:[[1,"h-full","bg-white"],[1,"bg-gray-100","h-full","lg:h-auto"],[1,"container","mx-auto","py-4","xl:py-10","xl:px-24"],[1,"flex","flex-wrap","items-center","content-center"],[1,"w-full","lg:w-6/12","hidden","lg:block"],["src","assets/images/logo.PNG","alt","Logo Ubunifu events",1,"h-52","ml-1"],[1,"pt-4","ml-4","text-md"],[1,"w-full","lg:w-6/12","p-4"],[1,"lg:bg-white","lg:rounded-md","lg:border","lg:border-gray-300","md:py-11","md:px-11",3,"ngSubmit","formGroup"],[1,"text-center","font-medium","text-2xl","text-blue-950"],[1,"text-center","mt-2"],[1,"w-full","mt-6"],["type","text","matInput","","formControlName","full_name"],["color","primary","matSuffix",""],[4,"ngIf"],[1,"w-full","mt-1"],["type","email","matInput","","formControlName","email"],[1,"flex","flex-col","md:flex-row","gap-x-5"],[1,"w-full","md:w-6/12","mt-1"],["type","password","matInput","","formControlName","password",3,"focus","type"],["mat-icon-button","","matSuffix","",3,"click"],["color","primary"],["matInput","","formControlName","password2",3,"focus","type"],["formControlName","terms",3,"required"],["routerLink","","target","_blank",1,"text-blue-800","cursor-pointer","hover:text-blue-900"],["mat-flat-button","",1,"w-full","mt-4"],[1,"flex","items-center","gap-2","mt-5"],[1,"flex-1","border-t","border-gray-400"],[1,"text-gray-600","font-semibold"],[1,"flex","flex-col","md:flex-row","mt-4","gap-3"],["type","button","mat-stroked-button","","color","primary",1,"w-full","md:w-6/12"],[1,"flex","items-center"],["height","20","width","20","src","assets/images/google.png","alt","Google",1,"me-2"],["height","20","width","20","src","assets/images/facebook.png","alt","Google",1,"me-2"],[1,"w-full","text-center","text-md","mt-6"],["routerLink","/auth/login",1,"cursor-pointer","text-blue-900","hover:text-blue-700"]],template:function(n,o){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),p(5,"img",5),e(6,"p",6),i(7," Cette application permet la gestion centralis\xE9e, s\xE9curis\xE9e et num\xE9rique des courriers entrants et sortants au sein de la CNSSAP "),t()(),e(8,"div",7)(9,"form",8),u("ngSubmit",function(){return o.onSubmit()}),e(10,"h1",9),i(11,"COURRIERS CNSSAP"),t(),e(12,"p",10),i(13,"Cr\xE9ez votre compte organisateur d\xE8s maintenant"),t(),e(14,"mat-form-field",11)(15,"mat-label"),i(16,"Nom complet"),t(),p(17,"input",12),e(18,"mat-icon",13),i(19,"person"),t(),f(20,se,2,1,"mat-error",14),t(),e(21,"mat-form-field",15)(22,"mat-label"),i(23,"Adresse E-mail"),t(),p(24,"input",16),e(25,"mat-icon",13),i(26,"home"),t(),f(27,le,2,1,"mat-error",14),t(),e(28,"div",17)(29,"mat-form-field",18)(30,"mat-label"),i(31,"Mot de passe"),t(),e(32,"input",19),u("focus",function(){return o.lock=!0}),t(),e(33,"a",20),u("click",function(){return o.hide=!o.hide}),E(34,pe,2,1,"mat-icon",21)(35,de,2,0,"mat-icon",21),t(),f(36,ue,2,1,"mat-error",14),t(),e(37,"mat-form-field",18)(38,"mat-label"),i(39,"Confirmation"),t(),e(40,"input",22),u("focus",function(){return o.lock=!0}),t(),e(41,"a",20),u("click",function(){return o.hide=!o.hide}),E(42,ce,2,1,"mat-icon",21)(43,fe,2,0,"mat-icon",21),t(),f(44,ge,2,1,"mat-error",14),t()(),e(45,"mat-checkbox",23),i(46," J'accepte "),e(47,"a",24),i(48," la politique de confidentialit\xE9 "),t(),i(49," et "),e(50,"a",24),i(51," les conditions d'utilisation "),t()(),e(52,"button",25),i(53,"S'inscrire maintenant"),t(),e(54,"div",26),p(55,"hr",27),e(56,"p",28),i(57,"OU"),t(),p(58,"hr",27),t(),e(59,"div",29)(60,"button",30)(61,"div",31),p(62,"img",32),e(63,"span"),i(64,"S'inscrire avec Google"),t()()(),e(65,"button",30)(66,"div",31),p(67,"img",33),e(68,"span"),i(69,"S'inscrire avec Facebook"),t()()()(),e(70,"p",34),i(71," Si vous avez un compte "),e(72,"a",35),i(73,"Connectez-vous"),t()()()()()()()()),n&2&&(a(9),l("formGroup",o.form),a(11),l("ngIf",o.form.get("full_name").hasError),a(7),l("ngIf",o.form.get("email").hasError),a(5),l("type",o.hide?"password":"text"),a(2),v(o.lock?34:35),a(2),l("ngIf",o.form.get("password").hasError),a(4),l("type",o.hide?"password":"text"),a(2),v(o.lock?42:43),a(2),l("ngIf",o.form.get("password2").hasError),a(),l("required",!0))},dependencies:[M,w,L,R,F,q,N,k,I,U,P,T,G,z,O,B,D,V,$,Q,K,j,H,J,X,W,Z,Y,ee,te,ie,re,ne],encapsulation:2})};export{me as RegisterComponent};
