import{a as A}from"./chunk-SRJPW5H4.js";import{b as F,c as R}from"./chunk-LKLQAJTI.js";import{a as k}from"./chunk-KSXKKUK4.js";import"./chunk-YJ6I4H5R.js";import"./chunk-NO5ZLMGJ.js";import"./chunk-RSTW56Y6.js";import"./chunk-NVDVH5CC.js";import"./chunk-EETWG5P3.js";import"./chunk-6JCGAI3C.js";import"./chunk-2XMF3NCH.js";import{a as B,b as w,c as N,f as z,i as O,j as D,k as P,r as V}from"./chunk-I2SFVS3Z.js";import{b as T}from"./chunk-YOSYX5R3.js";import"./chunk-RA4HR7YG.js";import"./chunk-PYNVKXPF.js";import{a as L}from"./chunk-Y3YQYZ4W.js";import{l as h,s as b}from"./chunk-LN33XJJG.js";import"./chunk-2KDJOZPQ.js";import"./chunk-6K6YQ32S.js";import"./chunk-DDJAZSWD.js";import{a as y,b as f}from"./chunk-WRDENF74.js";import{Ab as p,Eb as S,Fb as a,Gb as r,Hb as u,Mb as I,Qb as s,Sb as g,Wa as M,ba as m,ec as v,ga as x,gb as d,ha as C,xc as E,zb as c}from"./chunk-D6M5U3FV.js";import"./chunk-MGTJOKXF.js";function U(t,i){t&1&&(a(0,"div",2),u(1,"mat-spinner"),r())}function X(t,i){if(t&1){let e=I();a(0,"app-incoming-mail-grid-component",5),s("menuSelected",function(l){x(e);let o=g();return C(o.onMenuSelected(l))}),r()}if(t&2){let e=g();S("tab",e.mailService.tab)("mails",e.mailService.page.items)}}function q(t,i){if(t&1){let e=I();a(0,"mat-paginator",6),s("page",function(l){x(e);let o=g();return C(o.mailService.onNext(l))}),r()}if(t&2){let e=g();S("length",e.mailService.page.totalItems)("pageSize",e.mailService.criteria.pageSize)("pageIndex",e.mailService.pageIndex)("pageSizeOptions",e.mailService.pageSizeOptions)}}var _=class t{mailService=m(k);stateService=m(f);constructor(){sessionStorage.getItem(this.mailService.key)&&(this.mailService.tab=sessionStorage.getItem(this.mailService.key)),this.stateService.setHeader(new y("COURRIERS ENTRANTS EXTERNES","Liste des correspondances externes re\xE7ues","flight_land"))}ngOnInit(){this.onSelectTab(this.mailService.tab)}onSearchChanged(i){Object.assign(this.mailService.criteria,i),this.onSelectTab(this.mailService.tab)}onSelectTab(i,e=!1){this.mailService.selectTab(i,e)}onActionButton(i){this.mailService.actionButton(i)}onMenuSelected(i){this.mailService.menuSelected(i)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-incoming-external-mail-list-impl-component"]],decls:5,vars:3,consts:[[3,"tabSelected","actionButton","selectedTab"],[3,"searchChanged"],[1,"flex","items-center","justify-center","my-10"],[3,"tab","mails"],["showFirstLastButtons","","aria-label","Select page",1,"mt-12",3,"length","pageSize","pageIndex","pageSizeOptions"],[3,"menuSelected","tab","mails"],["showFirstLastButtons","","aria-label","Select page",1,"mt-12",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(e,n){e&1&&(a(0,"app-toolbar-component",0),s("tabSelected",function(o){return n.onSelectTab(o,!0)})("actionButton",function(o){return n.onActionButton(o)}),r(),a(1,"app-search-bar-component",1),s("searchChanged",function(o){return n.onSearchChanged(o)}),r(),c(2,U,2,0,"div",2)(3,X,1,2,"app-incoming-mail-grid-component",3),c(4,q,1,4,"mat-paginator",4)),e&2&&(S("selectedTab",n.mailService.tab),M(2),p(n.mailService.loading?2:3),M(2),p(n.mailService.page?4:-1))},dependencies:[R,F,w,B,N,z,O,P,D,b,h,T,V,A],encapsulation:2})};function J(t,i){t&1&&u(0,"app-incoming-external-mail-list-impl-component")}function K(t,i){t&1&&(a(0,"h1"),v(1,"Vous n'avez pas droit d'acc\xE8der \xE0 cette fonctionnalit\xE9"),r())}var j=class t{stateService=m(f);role=E(()=>this.stateService.role());roles=L;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-incoming-external-mail-list-component"]],decls:2,vars:1,template:function(e,n){e&1&&c(0,J,1,0,"app-incoming-external-mail-list-impl-component")(1,K,2,0,"h1"),e&2&&p(n.role()!==n.roles.AGENT?0:1)},dependencies:[_],encapsulation:2})};export{j as IncomingExternalMailListComponent};
