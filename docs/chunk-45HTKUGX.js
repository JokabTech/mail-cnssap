import{a as Ge}from"./chunk-YKGDIKIX.js";import{a as Le,b as $e,c as Ue}from"./chunk-2B53N2V2.js";import{d as Fe}from"./chunk-7FHMHPOG.js";import{b as De,c as Ne,f as we,i as Pe,j as ke,k as Re,o as Oe,p as Ve,q as qe,r as je}from"./chunk-WO3WQ2XR.js";import{b as Te}from"./chunk-OYAAD6H2.js";import{a as ye}from"./chunk-NS5OZLHL.js";import{a as w}from"./chunk-Y3YQYZ4W.js";import{B as he,D as Se,F as ve,G as Ie,I as be,K as Me,a as Q,b as K,g as le,l as me,n as se,o as de,p as ce,r as pe,s as ue,u as _e,v as fe,w as xe,x as ge,y as Ce,z as Ee}from"./chunk-JQ7ZTRAQ.js";import{a as Ae}from"./chunk-XHZ33VBC.js";import{$ as ne,M as X,O as Y,P as W,R as Z,T as u,V as ee,W as te,X as ie,Z as x,ca as oe,da as re,ma as ae}from"./chunk-4LHVJXPR.js";import{C as J,d as B,k as z,q as T,y as H}from"./chunk-SMWCLUEH.js";import{b as P}from"./chunk-VYQ2GNAY.js";import{Ab as p,Cb as M,Db as A,Eb as f,Fb as n,Gb as i,Hb as S,Mb as y,Qb as v,S as b,Sb as s,Wa as a,Wb as V,Xb as q,Yb as j,ac as L,ba as C,bc as $,ec as r,f as I,ga as E,gb as F,gc as _,ha as h,hc as D,mc as U,oc as G,u as O,xc as N,zb as c}from"./chunk-JOOEKZTP.js";import"./chunk-2VMXMS7J.js";var Je=["fileInput"],Qe=t=>({"bg-gray-100 border-blue-500":t}),R=(t,o)=>o.id;function Ke(t,o){if(t&1&&(n(0,"mat-error"),r(1),i()),t&2){let e=s(3);a(),_(" ",e.getErrorSubject()," ")}}function Xe(t,o){if(t&1&&(n(0,"mat-option",34),r(1),i()),t&2){let e=o.$implicit;f("value",e.id),a(),D(" ",e.full_name," ",e.department?e.department.designation:"(Aucune Direction)"," ")}}function Ye(t,o){if(t&1&&(n(0,"mat-error"),r(1),i()),t&2){let e=s(4);a(),_(" ",e.getErrorRequired("director_id")," ")}}function We(t,o){if(t&1&&(n(0,"div",15)(1,"h1",16),r(2,"Destinateur"),i(),n(3,"p"),r(4," S\xE9lectionnez le directeur en charge de traiter ce courrier, il le recevra et le traitera "),i()(),n(5,"div",17)(6,"mat-form-field",18)(7,"mat-label"),r(8,"Directeur"),i(),n(9,"mat-select",33),M(10,Xe,2,3,"mat-option",34,R),i(),c(12,Ye,2,1,"mat-error"),i(),n(13,"div",35)(14,"mat-checkbox",36),r(15," Transf\xE9rer directement au directeur pour traitement "),i()()()),t&2){let e,l=s(3);a(10),A(l.directors),a(2),p((e=l.form.get("director_id"))!=null&&e.hasError?12:-1)}}function Ze(t,o){if(t&1&&(n(0,"mat-error"),r(1),i()),t&2){let e=s(3);a(),_(" ",e.getErrorRequired("mail_date")," ")}}function et(t,o){if(t&1&&(n(0,"mat-error"),r(1),i()),t&2){let e=s(3);a(),_(" ",e.getErrorSender()," ")}}function tt(t,o){if(t&1&&(n(0,"mat-option",37),r(1),i()),t&2){let e=o.$implicit;f("disabled",!e.department)("value",e.id),a(),D(" ",e.full_name," (",e.department?e.department.designation:"Aucune direction",") ")}}function it(t,o){if(t&1&&(n(0,"mat-error"),r(1),i()),t&2){let e=s(4);a(),_(" ",e.getErrorRequired("director_id")," ")}}function nt(t,o){if(t&1&&(n(0,"div",15)(1,"h1",16),r(2,"Destinateur et Annotateur"),i(),n(3,"p"),r(4," S\xE9lectionnez les personnes en charge de traiter ce courrier : le directeur et l\u2019assistant administratif qui recevront et annoteront ce courrier. "),i()(),n(5,"div",20)(6,"mat-form-field",18)(7,"mat-label"),r(8,"Directeur"),i(),n(9,"mat-select",33),M(10,tt,2,4,"mat-option",37,R),i(),c(12,it,2,1,"mat-error"),i()()),t&2){let e,l=s(3);a(10),A(l.directors),a(2),p((e=l.form.get("director_id"))!=null&&e.hasError?12:-1)}}function ot(t,o){if(t&1&&(n(0,"mat-option",34),r(1),i()),t&2){let e=o.$implicit;f("value",e.id),a(),_(" ",e.full_name," ")}}function rt(t,o){if(t&1&&(n(0,"mat-error"),r(1),i()),t&2){let e=s(4);a(),_(" ",e.getErrorRequired("admin_assistant_id")," ")}}function at(t,o){if(t&1&&(n(0,"mat-form-field",18)(1,"mat-label"),r(2,"Assistant administratif"),i(),n(3,"mat-select",38),M(4,ot,2,2,"mat-option",34,R),i(),c(6,rt,2,1,"mat-error"),i()),t&2){let e,l=s(3);a(4),A(l.admin_assistants),a(2),p((e=l.form.get("admin_assistant_id"))!=null&&e.hasError?6:-1)}}function lt(t,o){if(t&1&&(n(0,"mat-option",34),r(1),i()),t&2){let e=o.$implicit;f("value",e.id),a(),_(" ",e.full_name," ")}}function mt(t,o){if(t&1&&(n(0,"mat-error"),r(1),i()),t&2){let e=s(4);a(),_(" ",e.getErrorRequired("senior_assistant_id")," ")}}function st(t,o){if(t&1&&(n(0,"mat-form-field",18)(1,"mat-label"),r(2,"Assistant Principal charg\xE9 de la validation"),i(),n(3,"mat-select",39),M(4,lt,2,2,"mat-option",34,R),i(),c(6,mt,2,1,"mat-error"),i(),n(7,"div",35)(8,"mat-checkbox",36),r(9," Transf\xE9rer directement \xE0 l'assistant principal pour traitement "),i()()),t&2){let e,l=s(3);a(4),A(l.senior_assistants),a(2),p((e=l.form.get("senior_assistant_id"))!=null&&e.hasError?6:-1)}}function dt(t,o){if(t&1&&(n(0,"p",27),r(1),i()),t&2){let e=s(3);a(),_("Fichier : ",e.pdfService.localPdf.name," ")}}function ct(t,o){if(t&1&&(n(0,"mat-error",28),r(1),i()),t&2){let e=s(3);a(),_(" ",e.errorMessage," ")}}function pt(t,o){if(t&1&&(n(0,"div",29)(1,"div",40),S(2,"div",41),i(),n(3,"p",42),r(4),i()()),t&2){let e=s(3);a(2),$("width",e.uploadProgress,"%"),a(2),D("",e.uploadProgress," % - ",e.statusMessage)}}function ut(t,o){if(t&1&&(n(0,"div",15)(1,"h1",16),r(2,"Annotation assistant administratif"),i(),n(3,"p"),r(4," Il s'agit de votre commentaier entant qu'assistant administratif, ce commentaire sera visible par l'assistant principal "),i()(),n(5,"div",17),S(6,"editor",43),i()),t&2){let e=s(3);a(6),f("formControlName",e.role===e.roles.ADMIN_ASSISTANT?"admin_assistant_comment":"senior_assistant_comment")("init",e.init)}}function _t(t,o){if(t&1){let e=y();n(0,"button",44),v("click",function(){E(e);let d=s(3);return h(d.onDisplayOnlinePdf())}),n(1,"div",45)(2,"mat-icon",46),r(3,"remove_red_eye"),i(),n(4,"span"),r(5,"Aper\xE7u de l'ancien fichier"),i()()()}}function ft(t,o){if(t&1){let e=y();n(0,"button",44),v("click",function(){E(e);let d=s(3);return h(d.onDisplayLocalPdf())}),n(1,"div",45)(2,"mat-icon",46),r(3,"remove_red_eye"),i(),n(4,"span"),r(5,"Aper\xE7u du nouveau fichier"),i()()()}}function xt(t,o){if(t&1){let e=y();n(0,"form",14),v("ngSubmit",function(){E(e);let d=s(2);return h(d.onSubmit())}),n(1,"div",15)(2,"h1",16),r(3,"Objet du courrier"),i(),n(4,"p"),r(5," Indiquez ici le sujet principal du courrier. Il s'agit de l'objet tel qu'il figure sur le courrier scann\xE9. Ce titre appara\xEEtra dans les listes et les recherches. "),i()(),n(6,"div",17)(7,"mat-form-field",18)(8,"mat-label"),r(9,"Objet du courrier"),i(),S(10,"input",19),c(11,Ke,2,1,"mat-error"),i()(),c(12,We,16,1),n(13,"div",15)(14,"h1",16),r(15,"Date et Exp\xE9diteur du courrier"),i(),n(16,"p"),r(17," Saisissez la date d\u2019\xE9mission du courrier ainsi que le nom ou l'entit\xE9 de l'exp\xE9diteur. "),i()(),n(18,"div",20)(19,"mat-form-field",18)(20,"mat-label"),r(21,"Date du courrier"),i(),S(22,"input",21)(23,"mat-datepicker-toggle",22)(24,"mat-datepicker",null,1),c(26,Ze,2,1,"mat-error"),i()(),n(27,"div",20)(28,"mat-form-field",18)(29,"mat-label"),r(30,"Exp\xE9diteur du courrier"),i(),S(31,"input",23),c(32,et,2,1,"mat-error"),i()(),c(33,nt,13,1),n(34,"div",20),c(35,at,7,1,"mat-form-field",18)(36,st,10,1),i(),n(37,"div",15)(38,"h1",16),r(39,"Courrier Scann\xE9"),i(),n(40,"p"),r(41," Il s'agit d'une lettre ou d\u2019un document papier qui a \xE9t\xE9 num\xE9ris\xE9 \xE0 l\u2019aide d\u2019un scanner, afin d\u2019\xEAtre conserv\xE9 ou envoy\xE9 sous format \xE9lectronique. Nous acceptons uniquement les fichiers au format PDF ou image (JPEG, PNG). "),i()(),n(42,"div",17)(43,"div",24),v("click",function(){E(e);let d=s(2);return h(d.triggerFileInput())})("dragover",function(d){E(e);let g=s(2);return h(g.onDragOver(d))})("dragleave",function(d){E(e);let g=s(2);return h(g.onDragLeave(d))})("drop",function(d){E(e);let g=s(2);return h(g.onDrop(d))}),n(44,"mat-icon",4),r(45,"attach_file"),i(),n(46,"p",25),r(47," D\xE9posez ici un fichier au format PDF ou image, ou "),n(48,"span",26),r(49," cliquez "),i(),r(50," pour le s\xE9lectionner. "),i(),c(51,dt,2,1,"p",27),i(),c(52,ct,2,1,"mat-error",28),i(),c(53,pt,5,4,"div",29),c(54,ut,7,2),n(55,"div",30),c(56,_t,6,0,"button",31),c(57,ft,6,0,"button",31),n(58,"button",32),r(59),i()()()}if(t&2){let e,l,d,g=L(25),m=s(2);f("formGroup",m.form),a(11),p((e=m.form.get("subject"))!=null&&e.hasError?11:-1),a(),p(m.role===m.roles.SENIOR_ASSISTANT?12:-1),a(10),f("matDatepicker",g),a(),f("for",g),a(3),p((l=m.form.get("mail_date"))!=null&&l.hasError?26:-1),a(6),p((d=m.form.get("sender"))!=null&&d.hasError?32:-1),a(),p(m.role!==m.roles.SENIOR_ASSISTANT?33:-1),a(2),p(m.role===m.roles.MAIL_ARCHIVES_AGENT?35:m.role===m.roles.ADMIN_ASSISTANT?36:-1),a(8),f("ngClass",G(17,Qe,m.isDragging)),a(8),p(m.pdfService.localPdf?51:-1),a(),p(m.errorMessage!==""?52:-1),a(),p(m.uploadProgress>0?53:-1),a(),p(m.role===m.roles.ADMIN_ASSISTANT||m.role===m.roles.SENIOR_ASSISTANT?54:-1),a(2),p(m.formActionPayload&&m.formActionPayload.data&&m.formActionPayload.data.scanned_document?56:-1),a(),p(m.pdfService.localPdf?57:-1),a(2),_(" ",m.formActionPayload&&m.formActionPayload.action==="add"?"Enregister le courrier":"Modifier le courrier"," ")}}function gt(t,o){t&1&&(n(0,"div",12),S(1,"mat-spinner"),i())}function Ct(t,o){if(t&1){let e=y();n(0,"div",8)(1,"h1",10),r(2,"FORMULAIRE D'AJOUT D'UN NOUVEAU COURRIER ENTRANT EXTERNE"),i(),c(3,xt,60,19,"form",11)(4,gt,2,0,"div",12),n(5,"input",13,0),v("change",function(d){E(e);let g=s();return h(g.onFileSelected(d))}),i()()}if(t&2){let e=s();a(3),p(e.isFormReady?3:4)}}function Et(t,o){t&1&&(n(0,"section",9)(1,"div",47)(2,"div",48)(3,"p",49)(4,"mat-icon",4),r(5,"check"),i()(),n(6,"h1",50),r(7," Le courrier a \xE9t\xE9 enregistr\xE9 avec succ\xE8s. "),i(),n(8,"div",51)(9,"button",52),r(10," Imprimer l\u2019accus\xE9 de r\xE9ception "),i()()()()())}var k=class t{stateService=C(P);http=C(Ae);message=C(ye);dialog=C(Fe);pdfService=C(Ue);router=C(H);unsubscribeDir$=new I;unsubscribeMail$=new I;unsubscribeAA$=new I;unsubscribeSA$=new I;role=this.http.role;fileInput;form;isDragging=!1;supportedTypes=["application/pdf","image/png","image/jpeg"];errorMessage="";uploadProgress=0;end=!1;statusMessage="";xSmallOrSmall=N(()=>this.stateService.XSmallOrSmall());directors=[];admin_assistants=[];senior_assistants=[];formActionPayload;mail;init={plugins:"lists link image table code help wordcount"};roles=w;isFormReady=!1;constructor(){this.formActionPayload=JSON.parse(sessionStorage.getItem("formActionPayload")),this.mail=this.formActionPayload.data}ngOnDestroy(){sessionStorage.removeItem("incomingExternalMail"),this.pdfService.localPdf=null,this.pdfService.onLinePdf=null,this.unsubscribeDir$.next(),this.unsubscribeDir$.complete(),this.unsubscribeAA$.next(),this.unsubscribeAA$.complete(),this.unsubscribeSA$.next(),this.unsubscribeSA$.complete(),this.unsubscribeMail$.next(),this.unsubscribeMail$.complete()}ngOnInit(){this.loadData()}initForm(){this.form=new ie({subject:new x(this.mail?this.mail.subject:"",[u.required,u.minLength(5),u.maxLength(255)]),mail_date:new x(this.mail?this.mail.mail_date:"",[u.required]),sender:new x(this.mail?this.mail.sender:"",[u.required,u.minLength(3),u.maxLength(150)]),director_id:new x(this.mail&&this.mail.director?this.mail.director.id:"",[u.required])}),this.role==="MAIL_ARCHIVES_AGENT"?this.form.addControl("admin_assistant_id",new x(this.mail&&this.mail.adminAssistant?this.mail.adminAssistant.id:"",[u.required])):this.role==="ADMIN_ASSISTANT"?(this.form.addControl("admin_assistant_comment",new x(this.mail?this.mail.admin_assistant_comment:"",[u.minLength(10)])),this.form.addControl("senior_assistant_id",new x(this.mail&&this.mail.seniorAssistant?this.mail.seniorAssistant.id:"",[u.required])),this.form.addControl("shouldSendDocument",new x(!1,[u.required]))):this.role==="SENIOR_ASSISTANT"&&(this.form.addControl("senior_assistant_comment",new x(this.mail?this.mail.senior_assistant_comment:"",[u.minLength(10)])),this.form.addControl("shouldSendDocument",new x(!1,[u.required])))}getErrorSubject(){return this.form.get("subject").hasError("required")?"Ce champ est requis":this.form.get("subject").hasError("minlength")?"L'objet doit contenir au moins 5 caract\xE8res.":this.form.get("subject").hasError("maxlength")?"L'objet ne peut pas d\xE9passer 255 caract\xE8res.":""}getErrorRequired(o){return this.form.get(o).hasError("required")?"Ce champ est requis":""}getErrorSender(){return this.form.get("sender").hasError("required")?"Ce champ est requis":this.form.get("sender").hasError("minlength")?"L'exp\xE9diteur doit contenir au moins 3 caract\xE8res.":this.form.get("sender").hasError("maxlength")?"L'exp\xE9diteur ne peut pas d\xE9passer 150 caract\xE8res.":""}triggerFileInput(){this.fileInput.nativeElement.value="",this.fileInput.nativeElement.click()}onDragOver(o){o.preventDefault(),this.isDragging=!0}onDragLeave(o){o.preventDefault(),this.isDragging=!1}onDrop(o){o.preventDefault(),this.isDragging=!1;let e=o.dataTransfer?.files;e&&this.pdfService.handleFile(e[0])}onFileSelected(o){let l=o.target.files;l&&this.pdfService.handleFile(l[0])}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched(),this.message.openSnackBar("Veuillez corriger les erreurs du formulaire.","Fermer",4e3);return}let o="";this.role==="MAIL_ARCHIVES_AGENT"?o="by-maa":this.role==="ADMIN_ASSISTANT"?o="by-aa":this.role==="SENIOR_ASSISTANT"&&(o="by-sa"),this.formActionPayload.action==="add"?this.add(o):this.update(o)}add(o){this.http.url=`incoming-external-mails/${o}`,this.http.sendFormData(JSON.stringify(this.form.value),this.pdfService.localPdf,"post").subscribe({next:e=>{e.type===T.UploadProgress?this.uploadProgress=Math.round(e.loaded/(e.total||1)*100):e.type===T.Response&&(this.message.openSnackBar("Enregistrement effectu\xE9 avec succ\xE8s !","Fermer",4e3),this.form.reset(),this.pdfService.localPdf=null,this.end=!0)},error:e=>{this.message.openSnackBar("Une erreur est survenue, veuillez r\xE9essayer.","Fermer",4e3),this.uploadProgress=0},complete:()=>{this.router.navigateByUrl("/mails/incoming/external")}})}update(o){this.http.url=`incoming-external-mails/${o}/${this.formActionPayload.data.id}`,this.http.sendFormData(JSON.stringify(this.form.value),this.pdfService.localPdf,"patch").subscribe({next:e=>{e.type===T.UploadProgress?this.uploadProgress=Math.round(e.loaded/(e.total||1)*100):e.type===T.Response&&this.message.openSnackBar("Modification effectu\xE9 avec succ\xE8s !","Fermer",4e3)},error:e=>{this.message.openSnackBar("Une erreur est survenue, veuillez r\xE9essayer.","Fermer",4e3),this.uploadProgress=0},complete:()=>{this.router.navigateByUrl("/mails/incoming/external")}})}onDisplayLocalPdf(){this.pdfService.displayLocalPdf()}onDisplayOnlinePdf(){this.pdfService.displayOnlinePdf(this.formActionPayload.data.id,"document","incoming-external-mails")}loadData(){let o={directors:this.getDirectors()};this.role==="MAIL_ARCHIVES_AGENT"?o.admin_assistants=this.getAdminAssistant():this.role==="ADMIN_ASSISTANT"&&(o.senior_assistants=this.getSeniorAssistant()),this.formActionPayload.action==="edit_mail"&&(o.mail=this.getMail()),O(o).subscribe({next:e=>{this.directors=e.directors,this.role==="MAIL_ARCHIVES_AGENT"?this.admin_assistants=e.admin_assistants:this.role==="ADMIN_ASSISTANT"&&(this.senior_assistants=e.senior_assistants),this.formActionPayload.action==="edit_mail"&&(this.mail=e.mail),this.initForm(),this.isFormReady=!0},error:e=>{this.message.openSnackBar("Une erreur est survenue lors du chargement des donn\xE9es. Veuillez r\xE9essayer.","Fermer",800)}})}getDirectors(){return this.http.url="users/by-role/DIRECTOR",this.http.get().pipe(b(this.unsubscribeDir$))}getAdminAssistant(){return this.http.url="users/by-role/ADMIN_ASSISTANT",this.http.get().pipe(b(this.unsubscribeAA$))}getSeniorAssistant(){return this.http.url="users/by-role/SENIOR_ASSISTANT",this.http.get().pipe(b(this.unsubscribeSA$))}getMail(){let o="";return this.role==="MAIL_ARCHIVES_AGENT"?o="includeDirector=true&includeAdminAssistant=true":this.role==="ADMIN_ASSISTANT"?o="includeDirector=true&includeSeniorAssistant=true":this.role==="SENIOR_ASSISTANT"&&(o="includeDirector=true"),this.http.url=`incoming-external-mails/${this.formActionPayload.data.id}?${o}`,this.http.get().pipe(b(this.unsubscribeMail$))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=F({type:t,selectors:[["app-incoming-external-mail-impl-form-component"]],viewQuery:function(e,l){if(e&1&&V(Je,5),e&2){let d;q(d=j())&&(l.fileInput=d.first)}},features:[U([{provide:Le,useValue:"tinymce/tinymce.min.js"},Ge()])],decls:15,vars:2,consts:[["fileInput",""],["picker1",""],[1,"flex","items-center","justify-between","md:h-14","md:px-4","md:bg-gray-50","border-b","border-b-gray-300","md:border-b-0"],["mat-icon-button",""],[1,"mat-18"],[1,"px-3","py-1","text-xs","md:text-sm","text-blue-600","bg-blue-100","rounded-full","dark:bg-gray-800","dark:text-blue-400"],["mat-icon-button","","matTooltip","Actualiser"],["mat-icon-button","","matTooltip","Imprimmer",3,"click","disabled"],[1,"w-full","md:px-16"],[1,"bg-white","dark:bg-gray-900","mt-10"],[1,"mt-7","text-lg","md:px-4","hidden","md:block"],[1,"w-full","flex","flex-wrap","mt-4",3,"formGroup"],[1,"flex","items-center","justify-center","my-10"],["type","file","accept",".jpg, .jpeg, .png, application/pdf",1,"hidden",3,"change"],[1,"w-full","flex","flex-wrap","mt-4",3,"ngSubmit","formGroup"],[1,"w-full","md:px-4","mb-4"],[1,"text-lg","font-bold"],[1,"w-full","md:px-4"],[1,"w-full"],["type","text","matInput","","formControlName","subject"],[1,"w-full","md:w-6/12","md:px-4"],["matInput","","formControlName","mail_date",3,"matDatepicker"],["matIconSuffix","",3,"for"],["type","text","matInput","","formControlName","sender"],[1,"w-full","h-56","flex","flex-col","items-center","justify-center","border-2","border-dashed","border-gray-400","bg-[#e0e2ec]","rounded-lg","cursor-pointer","hover:border-blue-500","transition",3,"click","dragover","dragleave","drop","ngClass"],[1,"text-gray-600","text-lg","text-center","mt-2","px-1"],[1,"text-blue-500","font-bold"],[1,"text-lg","border-t-4","border-r-gray-100","mt-0.5"],[1,"mt-1.5"],[1,"w-full","md:px-4","mt-3.5"],[1,"w-full","md:px-4","mt-4","flex","flex-col-reverse","md:flex-row","justify-end","items-center","gap-2.5"],["type","button","mat-stroked-button","","color","primary",1,"w-full","sm:w-auto"],["matTooltip","Cliquez pour Enregister le courrier","mat-flat-button","",1,"w-full","sm:w-auto"],["matInput","","formControlName","director_id"],[3,"value"],[1,"w-full","flex","justify-end"],["formControlName","shouldSendDocument",1,"-mt-5"],[3,"disabled","value"],["matInput","","formControlName","admin_assistant_id"],["matInput","","formControlName","senior_assistant_id"],[1,"w-full","bg-gray-200","rounded-full","h-2.5"],[1,"bg-blue-600","h-2.5","rounded-full","transition-all","duration-300","ease-in-out"],[1,"text-center","text-sm","text-gray-500","mt-2"],["apiKey","3dejrpuyh0ucy7n25448c4t5p79rrkaiwdfxfxfdcmrum9if","licenseKey","gpl",3,"formControlName","init"],["type","button","mat-stroked-button","","color","primary",1,"w-full","sm:w-auto",3,"click"],[1,"flex","items-center"],[1,"me-2"],[1,"container","flex","items-center","px-6","py-12","mx-auto"],[1,"flex","flex-col","items-center","max-w-xl","mx-auto","text-center"],[1,"p-3","text-sm","font-medium","text-blue-500","rounded-full","bg-blue-50","dark:bg-gray-800"],[1,"mt-3","text-sm","font-semibold","text-gray-800","dark:text-white","md:text-2xl"],[1,"flex","items-center","justify-center","w-full","mt-6","gap-x-3","shrink-0","sm:w-auto"],["mat-flat-button",""]],template:function(e,l){e&1&&(n(0,"section",2)(1,"button",3)(2,"mat-icon",4),r(3,"arrow_back_ios"),i()(),n(4,"span",5),r(5," CNSSAP "),i(),n(6,"div")(7,"button",6)(8,"mat-icon"),r(9,"refresh"),i()(),n(10,"button",7),v("click",function(){return l.onDisplayLocalPdf()}),n(11,"mat-icon"),r(12,"remove_red_eye"),i()()()(),c(13,Ct,7,1,"div",8)(14,Et,11,0,"section",9)),e&2&&(a(10),f("disabled",!l.pdfService.localPdf),a(3),p(l.end?14:13))},dependencies:[De,Ne,we,Pe,Re,ke,ue,pe,se,de,ce,me,Te,je,Oe,Ve,qe,z,B,K,Q,W,Y,X,J,ae,ne,Z,ee,te,oe,re,le,fe,_e,ge,xe,Ee,Ce,he,Ie,ve,Se,be,Me,$e],encapsulation:2})};function ht(t,o){t&1&&S(0,"app-incoming-external-mail-impl-form-component")}function St(t,o){t&1&&(n(0,"h1"),r(1,"Vous n'avez pas le droit d'acc\xE8der a ce formulaire"),i())}var Be=class t{stateService=C(P);role=N(()=>this.stateService.role());roles=w;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=F({type:t,selectors:[["app-incoming-external-mail-form-component"]],decls:2,vars:1,template:function(e,l){e&1&&c(0,ht,1,0,"app-incoming-external-mail-impl-form-component")(1,St,2,0,"h1"),e&2&&p(l.role()===l.roles.MAIL_ARCHIVES_AGENT||l.role()===l.roles.ADMIN_ASSISTANT?0:1)},dependencies:[k],encapsulation:2})};export{Be as IncomingExternalMailFormComponent};
