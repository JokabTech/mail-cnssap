import{a as Z}from"./chunk-FKLYTB4I.js";import{B as K,G as Q,I as W,K as X,a as E,b as w,g as j,l as O,n as $,p as A,r as P,s as H,u as V,v as q,x as z,z as J}from"./chunk-K6XTAWVM.js";import{a as Y}from"./chunk-VBGLGRB2.js";import{$ as G,M as k,O as F,P as I,R as L,V as N,W as B,Z as d,ca as R,da as T,ka as D,ma as U}from"./chunk-BQFQ236X.js";import{C,k as M,y as _,z as y}from"./chunk-PS6WXRYG.js";import{$a as s,Ab as S,Eb as c,Fb as e,Gb as t,Hb as a,Qb as u,S as g,Sb as x,Wa as l,ec as i,f,fc as h,gb as b,zb as v}from"./chunk-JPJ72NUK.js";import"./chunk-2VMXMS7J.js";function te(r,n){if(r&1&&(e(0,"mat-icon",17),i(1),t()),r&2){let m=x();l(),h(m.hide?"visibility_off":"visibility")}}function ie(r,n){r&1&&(e(0,"mat-icon",17),i(1,"lock"),t())}var ee=class r{constructor(n,m,o,p){this._formBuilder=n;this.router=m;this.http=o;this.message=p}hide=!0;lock=!1;form;unsubscribe$=new f;initForm(){this.form=this._formBuilder.group({username:new d(""),password:new d("")})}ngOnInit(){this.initForm()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}onSubmit(){this.http.url="auth/login",this.unsubscribe$.next(),this.http.login(this.form.value).pipe(g(this.unsubscribe$)).subscribe({next:n=>{sessionStorage.setItem("authentication",JSON.stringify(n))},error:n=>{n.status===0?this.message.openSnackBar("Aucune connexion internet","Fermer",6e3):this.message.openSnackBar("E-mail ou mot de passe incorrect","Fermer",6e3)},complete:()=>{this.router.navigateByUrl("/dashboard")}})}onLogin(){this.router.navigateByUrl("/dashboard")}static \u0275fac=function(m){return new(m||r)(s(D),s(_),s(Y),s(Z))};static \u0275cmp=b({type:r,selectors:[["app-login-component"]],decls:51,vars:3,consts:[[1,"bg-gray-100","h-full","md:bg-transparent","md:h-auto"],[1,"bg-gray-100","h-full","lg:h-auto"],[1,"container","mx-auto","py-4","xl:py-10","xl:px-20"],[1,"flex","flex-wrap","items-center","content-center"],[1,"w-full","lg:w-6/12","hidden","lg:block"],["src","assets/images/logo.PNG","alt","Logo Ubunifu events",1,"h-52","ml-1"],[1,"pt-4","ml-4","text-md"],[1,"w-full","lg:w-6/12","p-4",3,"ngSubmit","formGroup"],[1,"lg:bg-white","lg:rounded-md","lg:border","lg:border-gray-300","md:py-11","md:px-11"],[1,"text-center","font-medium","text-2xl","text-blue-950"],[1,"text-center","mt-2"],[1,"w-full","mt-7"],["type","email","matInput","","formControlName","username"],["color","primary","matSuffix",""],[1,"w-full","mt-1"],["type","password","matInput","","formControlName","password",3,"focus","type"],["mat-icon-button","","matSuffix","",3,"click"],["color","primary"],[1,"text-right","text-blue-950","cursor-pointer","hover:text-blue-900"],["mat-flat-button","",1,"w-full","mt-4"],[1,"flex","items-center","gap-2","mt-5"],[1,"flex-1","border-t","border-gray-400"],[1,"text-gray-600","font-semibold"],[1,"flex","flex-col","md:flex-row","mt-3","gap-3"],["type","button","mat-stroked-button","","color","primary",1,"md:w-6/12",3,"click"],[1,"flex","items-center"],["height","20","width","20","src","assets/images/google.png","alt","Google",1,"me-2"],["type","button","mat-stroked-button","","color","primary",1,"md:w-6/12"],["height","20","width","20","src","assets/images/facebook.png","alt","Google",1,"me-2"],[1,"w-full","text-center","text-md","mt-10"],["routerLink","/auth/register",1,"cursor-pointer","text-blue-900","hover:text-blue-700"]],template:function(m,o){m&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),a(5,"img",5),e(6,"p",6),i(7," Cette application permet la gestion centralis\xE9e, s\xE9curis\xE9e et num\xE9rique des courriers entrants et sortants au sein de la CNSSAP. d "),t()(),e(8,"form",7),u("ngSubmit",function(){return o.onSubmit()}),e(9,"div",8)(10,"h1",9),i(11,"COURRIERS CNSSAP"),t(),e(12,"p",10),i(13,"Veuillez vous connecter avec votre compte"),t(),e(14,"mat-form-field",11)(15,"mat-label"),i(16,"Nom d'utilisateur"),t(),a(17,"input",12),e(18,"mat-icon",13),i(19,"person"),t()(),e(20,"mat-form-field",14)(21,"mat-label"),i(22,"Mot de passe"),t(),e(23,"input",15),u("focus",function(){return o.lock=!0}),t(),e(24,"a",16),u("click",function(){return o.hide=!o.hide}),v(25,te,2,1,"mat-icon",17)(26,ie,2,0,"mat-icon",17),t()(),e(27,"p",18),i(28,"Mot de passe oubli\xE9 ?"),t(),e(29,"button",19),i(30,"Se connecter maintenant"),t(),e(31,"div",20),a(32,"hr",21),e(33,"p",22),i(34,"OU"),t(),a(35,"hr",21),t(),e(36,"div",23)(37,"button",24),u("click",function(){return o.onLogin()}),e(38,"div",25),a(39,"img",26),e(40,"span"),i(41,"Se connecter avec Google"),t()()(),e(42,"button",27)(43,"div",25),a(44,"img",28),e(45,"span"),i(46,"Se connecter avec Facebook"),t()()()(),e(47,"p",29),i(48," Etes-vous nouveau ? "),e(49,"a",30),i(50,"Cr\xE9er un compte"),t()()()()()()()()),m&2&&(l(8),c("formGroup",o.form),l(15),c("type",o.hide?"password":"text"),l(2),S(o.lock?25:26))},dependencies:[M,w,E,I,F,k,C,y,U,G,L,N,B,R,T,j,O,H,P,$,A,q,V,z,J,K,Q,W,X],encapsulation:2})};export{ee as LoginComponent};
